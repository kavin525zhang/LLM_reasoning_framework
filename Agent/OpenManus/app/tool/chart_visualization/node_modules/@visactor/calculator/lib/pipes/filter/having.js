"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.having = void 0;
const select_1 = require("../select");
const filter_1 = require("./filter");
const having = ({ filter, source }) => {
    if (!(filter === null || filter === void 0 ? void 0 : filter.conditions.length))
        return (grouped) => grouped;
    return (grouped) => grouped.filter(group => {
        return (0, filter_1.judgeFilterTree)({
            filterNode: filter,
            item: group,
            getValue: ({ item, condition }) => (0, select_1.evaluateGroupColumnValue)({
                group: item,
                source,
                column: condition,
            }),
        });
    });
};
exports.having = having;
