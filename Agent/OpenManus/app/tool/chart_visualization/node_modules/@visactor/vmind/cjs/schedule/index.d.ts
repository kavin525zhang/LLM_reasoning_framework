import type { BaseContext } from '../types/atom';
import { AtomName } from '../types/atom';
import { BaseAtom } from '../atom/base';
import { DataQueryAtom, DataExtractionAtom, ChartGeneratorAtom, CustomPrompt } from '../atom';
import type { CombineAll, MapAtomTypes } from '../types/schedule';
import { DataCleanAtom } from '../atom/dataClean/dataClean';
import type { BaseOptions, ChartCommandOptions, ChartGeneratorOptions, DataCleanOptions, DataExtractionOptions, DataInsightOptions, CustomPromptOptions, SpecInsightOptions } from '../atom/type';
export interface ScheduleOptions {
    [AtomName.BASE]?: BaseOptions;
    [AtomName.DATA_EXTRACT]?: DataExtractionOptions;
    [AtomName.DATA_CLEAN]?: DataCleanOptions;
    [AtomName.MULTIPLE_DATA_CLEAN]?: DataCleanOptions;
    [AtomName.DATA_QUERY]?: BaseOptions;
    [AtomName.DATA_INSIGHT]?: DataInsightOptions;
    [AtomName.SPEC_INSIGHT]?: SpecInsightOptions;
    [AtomName.CHART_GENERATE]?: ChartGeneratorOptions;
    [AtomName.CHART_COMMAND]?: ChartCommandOptions;
    [AtomName.MULTIPLE_CHART_COMMAND]?: ChartCommandOptions;
    [AtomName.CHART_QA_EXTRACTION]?: BaseOptions;
    [AtomName.CUSTOM_PROMPT]?: CustomPromptOptions;
    [AtomName.VCHART_SPEC]?: BaseOptions;
}
export declare class Schedule<T extends AtomName[]> {
    atomInstaces: (DataExtractionAtom | DataCleanAtom | DataQueryAtom | ChartGeneratorAtom | BaseAtom<BaseContext, BaseOptions>)[];
    atomList: AtomName[];
    private context;
    options: ScheduleOptions;
    protected query: string;
    historySteps: any;
    constructor(atomList: T, options?: ScheduleOptions, context?: CombineAll<MapAtomTypes<T>>);
    initContext(): void;
    getAtomOptions(atomName: AtomName): any;
    atomFactory(atomName: AtomName): DataExtractionAtom | DataQueryAtom | CustomPrompt | BaseAtom<BaseContext, BaseOptions>;
    private parseSubTasks;
    private addUsage;
    run(query?: string, shouldRunList?: Record<AtomName, boolean>): Promise<Awaited<CombineAll<MapAtomTypes<T>>>>;
    setNewTask(context: any): void;
    updateOptions(options: ScheduleOptions): void;
    updateContext(context: any, isReplace?: boolean): void;
    getContext(atomName?: AtomName): CombineAll<MapAtomTypes<T>>;
}
