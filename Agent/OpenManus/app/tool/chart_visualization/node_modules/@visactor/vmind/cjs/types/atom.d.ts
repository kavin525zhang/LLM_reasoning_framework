import type { Cell, ChartType } from './chart';
import type { VizSchema } from '../atom/type';
import type { FieldInfo, DataTable } from './base';
import type { Insight } from '../atom/dataInsight/type';
export declare enum AtomName {
    BASE = "base",
    DATA_EXTRACT = "dataExtract",
    DATA_CLEAN = "dataClean",
    MULTIPLE_DATA_CLEAN = "multipleDataClean",
    DATA_QUERY = "dataQuery",
    CHART_COMMAND = "chartCommand",
    MULTIPLE_CHART_COMMAND = "multipleChartCommand",
    CHART_GENERATE = "chartGenerate",
    DATA_INSIGHT = "dataInsight",
    SPEC_INSIGHT = "specInsight",
    CHART_QA_EXTRACTION = "chartQAExtraction",
    CUSTOM_PROMPT = "custom_prompt",
    VCHART_SPEC = "vchart_spec"
}
export interface Usage {
    prompt_tokens: number;
    completion_tokens: number;
    total_tokens: number;
}
export interface BaseContext {
    logId?: string;
    id?: string;
    query?: string;
    response?: string;
    error?: string;
    usage?: Usage;
    thoughts?: string;
    toolRes?: any;
}
export interface ClusterDataView {
    dataTable: DataTable;
    fieldInfo: FieldInfo[];
    validColumnLength: number;
    validRowLength: number;
    validCellCount: number;
    validMeasureCellCount: number;
}
export interface DatasetFromText {
    text?: string;
    summary: string;
    dataTable: DataTable;
    fieldInfo: FieldInfo[];
    textRange?: [string, string];
}
export interface DataExtractionCtx extends BaseContext {
    text: string;
    fieldInfo?: FieldInfo[];
    dataTable?: DataTable;
    datasets?: DatasetFromText[];
}
export interface ChartCommandCtx extends BaseContext {
    text: string;
    summary?: string;
    fieldInfo?: FieldInfo[];
    dataTable?: DataTable;
    command: string;
}
export interface DataCleanCtx extends BaseContext {
    fieldInfo?: FieldInfo[];
    dataTable?: DataTable;
    clusterResult?: ClusterDataView[];
    originalDataTable?: DataTable;
}
export interface MultipleDataCleanCtx extends BaseContext {
    datasets: DatasetFromText[];
}
export interface MultipleChartCommandsCtx extends BaseContext {
    datasets: DatasetFromText[];
    commands: string[];
}
export interface DataQueryCtx extends BaseContext {
    dataTableSummary?: string;
    fieldInfo?: FieldInfo[];
    llmFieldInfo?: FieldInfo[];
    dataTable: DataTable;
    command: string;
    sql?: string;
}
export interface ChartGeneratorCtx extends BaseContext {
    fieldInfo?: FieldInfo[];
    dataTable: DataTable;
    command: string;
    chartType?: ChartType;
    cell: Cell;
    vizSchema: VizSchema;
    spec: any;
    chartAdvistorRes?: {
        chartType: ChartType;
        spec: any;
        score: number;
    }[];
    time?: {
        totalTime: number;
        frameArr: any[];
    };
}
export interface DataInsightCtx extends BaseContext {
    spec?: any;
    dataTable?: DataTable;
    fieldInfo?: FieldInfo[];
    insights: Insight[];
    vChartType?: string;
    chartType?: ChartType;
}
export interface SpecInsightCtx extends BaseContext {
    spec?: any;
    insights: Insight[];
    chartType?: ChartType;
    newSpec?: any;
}
export interface ChartQAExtractionCtx extends BaseContext {
    text: string;
    question: string;
    answer: string;
    keyList: string[];
    explanation: string;
}
export interface IVChartOperationItem {
    op: 'add' | 'update' | 'delete' | 'deleteAll';
    target: string;
    value?: any;
}
export interface VChartSpecCtx extends BaseContext {
    originalSpec: any;
    spec?: any;
    prevSpec?: any;
    operations?: IVChartOperationItem[];
    opertationsResult?: number[];
}
export interface DialogueChartCtx extends BaseContext {
    spec: any;
    oneSpec: any;
}
