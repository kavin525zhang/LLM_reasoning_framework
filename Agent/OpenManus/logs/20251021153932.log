2025-10-21 15:39:52.380 | WARNING  | __main__:main:25 - Processing your request...
2025-10-21 15:39:52.381 | INFO     | app.agent.base:run:141 - Executing step 1/20
2025-10-21 15:39:53.762 | INFO     | app.llm:update_token_count:243 - Token usage: Input=1345, Completion=42, Cumulative Input=1345, Cumulative Completion=42, Total=1387, Cumulative Total=1387
2025-10-21 15:39:53.763 | INFO     | app.agent.toolcall:think:89 - ✨ Manus's thoughts: 
2025-10-21 15:39:53.763 | INFO     | app.agent.toolcall:think:90 - 🛠️ Manus selected 1 tools to use
2025-10-21 15:39:53.763 | INFO     | app.agent.toolcall:think:94 - 🧰 Tools being prepared: ['web_search']
2025-10-21 15:39:53.763 | INFO     | app.agent.toolcall:think:97 - 🔧 Tool arguments: {"query": "小炒肉的做法", "num_results": 5, "lang": "zh", "country": "cn"}
2025-10-21 15:39:53.764 | INFO     | app.agent.toolcall:execute_tool:192 - 🔧 Activating tool: 'web_search'...
2025-10-21 15:39:53.765 | INFO     | app.tool.web_search:_try_all_engines:299 - 🔎 Attempting search with Google...
2025-10-21 15:40:11.799 | ERROR    | app.agent.toolcall:execute_tool:219 - ⚠️ Tool 'web_search' encountered a problem: RetryError[<Future at 0x7fd2c05e54c0 state=finished raised ConnectionError>]
Traceback (most recent call last):

  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           │          └ <function create_connection at 0x7fd2cbdc5800>
           └ <module 'urllib3.util.connection' from '/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py'>
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    raise err
          └ None
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 73, in create_connection
    sock.connect(sa)
    │    │       └ ('2001::1', 443, 0, 0)
    │    └ <method 'connect' of '_socket.socket' objects>
    └ <socket.socket [closed] fd=-1, family=10, type=1, proto=6>

OSError: [Errno 101] Network is unreachable


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               │    └ <function HTTPConnectionPool._make_request at 0x7fd2cbe64c20>
               └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x7fd2c05e50a0>
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 488, in _make_request
    raise new_e
          └ NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x7fd2c05e4410>: Failed to establish a new connection: [Err...
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
    │    │              └ <urllib3.connection.HTTPSConnection object at 0x7fd2c05e4410>
    │    └ <function HTTPSConnectionPool._validate_conn at 0x7fd2cbe651c0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x7fd2c05e50a0>
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 1093, in _validate_conn
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x7fd2cbe5cae0>
    └ <urllib3.connection.HTTPSConnection object at 0x7fd2c05e4410>
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 753, in connect
    self.sock = sock = self._new_conn()
    │    │             │    └ <function HTTPConnection._new_conn at 0x7fd2cbe5c0e0>
    │    │             └ <urllib3.connection.HTTPSConnection object at 0x7fd2c05e4410>
    │    └ None
    └ <urllib3.connection.HTTPSConnection object at 0x7fd2c05e4410>
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 213, in _new_conn
    raise NewConnectionError(
          └ <class 'urllib3.exceptions.NewConnectionError'>

urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPSConnection object at 0x7fd2c05e4410>: Failed to establish a new connection: [Errno 101] Network is unreachable


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 644, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7fd2cbe64e00>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x7fd2c05e50a0>
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              │       └ <function Retry.increment at 0x7fd2cbdc7ce0>
              └ Retry(total=0, connect=None, read=False, redirect=None, status=None)
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
          │             │      │    │            └ NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x7fd2c05e4410>: Failed to establish a new connection: [Err...
          │             │      │    └ NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x7fd2c05e4410>: Failed to establish a new connection: [Err...
          │             │      └ '/search?q=%E5%B0%8F%E7%82%92%E8%82%89%E7%9A%84%E5%81%9A%E6%B3%95&num=7&hl=en&start=0&safe=active'
          │             └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x7fd2c05e50a0>
          └ <class 'urllib3.exceptions.MaxRetryError'>

urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='www.google.com', port=443): Max retries exceeded with url: /search?q=%E5%B0%8F%E7%82%92%E8%82%89%E7%9A%84%E5%81%9A%E6%B3%95&num=7&hl=en&start=0&safe=active (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x7fd2c05e4410>: Failed to establish a new connection: [Errno 101] Network is unreachable'))


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "/usr/local/lib/python3.12/site-packages/tenacity/asyncio/__init__.py", line 114, in __call__
    result = await fn(*args, **kwargs)
                   │   │       └ {}
                   │   └ (WebSearch(name='web_search', description='Search the web for real-time information about any topic.\n    This tool returns c...
                   └ <function WebSearch._perform_search_with_engine at 0x7fd2cb5da700>

  File "/home/transwarp/Documents/workspace/private/LLM_reasoning_framework/Agent/OpenManus/app/tool/web_search.py", line 398, in _perform_search_with_engine
    return await asyncio.get_event_loop().run_in_executor(
                 │       └ <built-in function get_event_loop>
                 └ <module 'asyncio' from '/usr/local/lib/python3.12/asyncio/__init__.py'>

  File "/usr/local/lib/python3.12/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
             │        │            └ None
             │        └ None
             └ None

  File "/home/transwarp/Documents/workspace/private/LLM_reasoning_framework/Agent/OpenManus/app/tool/web_search.py", line 401, in <lambda>
    engine.perform_search(
    │      └ <function GoogleSearchEngine.perform_search at 0x7fd2cb5d9a80>
    └ GoogleSearchEngine()

  File "/home/transwarp/Documents/workspace/private/LLM_reasoning_framework/Agent/OpenManus/app/tool/search/google_search.py", line 20, in perform_search
    for i, item in enumerate(raw_results):
                             └ <generator object search at 0x7fd2c1326d90>

  File "/usr/local/lib/python3.12/site-packages/googlesearch/__init__.py", line 58, in search
    resp = _req(term, num_results - start,
           │    │     │             └ 0
           │    │     └ 5
           │    └ '小炒肉的做法'
           └ <function _req at 0x7fd2cb5d9c60>
  File "/usr/local/lib/python3.12/site-packages/googlesearch/__init__.py", line 10, in _req
    resp = get(
           └ <function get at 0x7fd2cb769580>
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'User-Agent': 'Lynx/3.8.0 libwww-FM/2.13 SSL-MM/2.4 OpenSSL/2.2.7', 'Accept': '*/*'}, 'proxies': None, 'timeout'...
           │              │           └ {'q': '小炒肉的做法', 'num': 7, 'hl': 'en', 'start': 0, 'safe': 'active', 'gl': None}
           │              └ 'https://www.google.com/search'
           └ <function request at 0x7fd2cb7798a0>
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'q': '小炒肉的做法', 'num': 7, 'hl': 'en', 'start': 0, 'safe': 'active', 'gl': None}, 'headers': {'User-Agent': 'Lynx/3...
           │       │              │           └ 'https://www.google.com/search'
           │       │              └ 'get'
           │       └ <function Session.request at 0x7fd2cb7b19e0>
           └ <requests.sessions.Session object at 0x7fd2c0ad38c0>
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': 5, 'allow_redirects': True, 'proxies': OrderedDict(), 'stream': False, 'verify': True, 'cert': None}
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x7fd2cb7b1ee0>
           └ <requests.sessions.Session object at 0x7fd2c0ad38c0>
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': 5, 'proxies': OrderedDict(), 'stream': False, 'verify': True, 'cert': None}
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x7fd2cb7b1300>
        └ <requests.adapters.HTTPAdapter object at 0x7fd2c05e5ac0>
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 677, in send
    raise ConnectionError(e, request=request)
          │                          └ <PreparedRequest [GET]>
          └ <class 'requests.exceptions.ConnectionError'>

requests.exceptions.ConnectionError: HTTPSConnectionPool(host='www.google.com', port=443): Max retries exceeded with url: /search?q=%E5%B0%8F%E7%82%92%E8%82%89%E7%9A%84%E5%81%9A%E6%B3%95&num=7&hl=en&start=0&safe=active (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x7fd2c05e4410>: Failed to establish a new connection: [Errno 101] Network is unreachable'))


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/home/transwarp/Documents/workspace/private/LLM_reasoning_framework/Agent/OpenManus/main.py", line 36, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x7fd2ce922340>
    │       └ <function run at 0x7fd2ce01e7a0>
    └ <module 'asyncio' from '/usr/local/lib/python3.12/asyncio/__init__.py'>

  File "/usr/local/lib/python3.12/asyncio/runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x7fd2c127cb80>
           │      └ <function Runner.run at 0x7fd2cde6fc40>
           └ <asyncio.runners.Runner object at 0x7fd2ce718890>
  File "/usr/local/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at /home/transwarp/Documents/workspace/private/LLM_reasoning_framework/Agent...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x7fd2cde6d8a0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7fd2ce718890>
  File "/usr/local/lib/python3.12/asyncio/base_events.py", line 678, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fd2cde6d800>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.12/asyncio/base_events.py", line 645, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fd2cde6f600>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.12/asyncio/base_events.py", line 1999, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fd2cdfcd940>
    └ <Handle Task.task_wakeup(<Future finis...achable'))"))>)>
  File "/usr/local/lib/python3.12/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finis...achable'))"))>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finis...achable'))"))>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finis...achable'))"))>)>

  File "/home/transwarp/Documents/workspace/private/LLM_reasoning_framework/Agent/OpenManus/main.py", line 26, in main
    await agent.run(prompt)
          │     │   └ '小炒肉的做法？'
          │     └ <function ToolCallAgent.run at 0x7fd2c9e4e0c0>
          └ Manus(name='Manus', description='A versatile agent that can solve various tasks using multiple tools including MCP-based tool...

  File "/home/transwarp/Documents/workspace/private/LLM_reasoning_framework/Agent/OpenManus/app/agent/toolcall.py", line 260, in run
    return await super().run(request)
                             └ '小炒肉的做法？'

  File "/home/transwarp/Documents/workspace/private/LLM_reasoning_framework/Agent/OpenManus/app/agent/base.py", line 142, in run
    step_result = await self.step()
                        │    └ <function ReActAgent.step at 0x7fd2cb697560>
                        └ Manus(name='Manus', description='A versatile agent that can solve various tasks using multiple tools including MCP-based tool...

  File "/home/transwarp/Documents/workspace/private/LLM_reasoning_framework/Agent/OpenManus/app/agent/react.py", line 41, in step
    return await self.act()
                 │    └ <function ToolCallAgent.act at 0x7fd2cb697d80>
                 └ Manus(name='Manus', description='A versatile agent that can solve various tasks using multiple tools including MCP-based tool...

  File "/home/transwarp/Documents/workspace/private/LLM_reasoning_framework/Agent/OpenManus/app/agent/toolcall.py", line 155, in act
    result = await self.execute_tool(command)
                   │    │            └ ChatCompletionMessageToolCall(id='chatcmpl-tool-8e9734068d2048c0946447f53d4d24f8', function=Function(arguments='{"query": "\\...
                   │    └ <function ToolCallAgent.execute_tool at 0x7fd2c9e4d8a0>
                   └ Manus(name='Manus', description='A versatile agent that can solve various tasks using multiple tools including MCP-based tool...

> File "/home/transwarp/Documents/workspace/private/LLM_reasoning_framework/Agent/OpenManus/app/agent/toolcall.py", line 193, in execute_tool
    result = await self.available_tools.execute(name=name, tool_input=args)
                   │    │               │            │                └ {'query': '小炒肉的做法', 'num_results': 5, 'lang': 'zh', 'country': 'cn'}
                   │    │               │            └ 'web_search'
                   │    │               └ <function ToolCollection.execute at 0x7fd2c9e4dbc0>
                   │    └ <app.tool.tool_collection.ToolCollection object at 0x7fd2c0ad34d0>
                   └ Manus(name='Manus', description='A versatile agent that can solve various tasks using multiple tools including MCP-based tool...

  File "/home/transwarp/Documents/workspace/private/LLM_reasoning_framework/Agent/OpenManus/app/tool/tool_collection.py", line 32, in execute
    result = await tool(**tool_input)
                   │      └ {'query': '小炒肉的做法', 'num_results': 5, 'lang': 'zh', 'country': 'cn'}
                   └ WebSearch(name='web_search', description='Search the web for real-time information about any topic.\n    This tool returns co...

  File "/home/transwarp/Documents/workspace/private/LLM_reasoning_framework/Agent/OpenManus/app/tool/base.py", line 118, in __call__
    return await self.execute(**kwargs)
                 │    │         └ {'query': '小炒肉的做法', 'num_results': 5, 'lang': 'zh', 'country': 'cn'}
                 │    └ <function WebSearch.execute at 0x7fd2cb5da200>
                 └ WebSearch(name='web_search', description='Search the web for real-time information about any topic.\n    This tool returns co...

  File "/home/transwarp/Documents/workspace/private/LLM_reasoning_framework/Agent/OpenManus/app/tool/web_search.py", line 253, in execute
    results = await self._try_all_engines(query, num_results, search_params)
                    │    │                │      │            └ {'lang': 'zh', 'country': 'cn'}
                    │    │                │      └ 5
                    │    │                └ '小炒肉的做法'
                    │    └ <function WebSearch._try_all_engines at 0x7fd2cb5da3e0>
                    └ WebSearch(name='web_search', description='Search the web for real-time information about any topic.\n    This tool returns co...

  File "/home/transwarp/Documents/workspace/private/LLM_reasoning_framework/Agent/OpenManus/app/tool/web_search.py", line 300, in _try_all_engines
    search_items = await self._perform_search_with_engine(
                         │    └ <function WebSearch._perform_search_with_engine at 0x7fd2cb5da980>
                         └ WebSearch(name='web_search', description='Search the web for real-time information about any topic.\n    This tool returns co...

  File "/usr/local/lib/python3.12/site-packages/tenacity/asyncio/__init__.py", line 189, in async_wrapped
    return await copy(fn, *args, **kwargs)
                 │    │    │       └ {}
                 │    │    └ (WebSearch(name='web_search', description='Search the web for real-time information about any topic.\n    This tool returns c...
                 │    └ <function WebSearch._perform_search_with_engine at 0x7fd2cb5da700>
                 └ <AsyncRetrying object at 0x7fd2c0593380 (stop=<tenacity.stop.stop_after_attempt object at 0x7fd2cb5e6ff0>, wait=<tenacity.wai...
  File "/usr/local/lib/python3.12/site-packages/tenacity/asyncio/__init__.py", line 111, in __call__
    do = await self.iter(retry_state=retry_state)
               │    │                └ <RetryCallState 140543146931216: attempt #3; slept for 3.0; last result: failed (ConnectionError HTTPSConnectionPool(host='ww...
               │    └ <function AsyncRetrying.iter at 0x7fd2cbed2160>
               └ <AsyncRetrying object at 0x7fd2c0593380 (stop=<tenacity.stop.stop_after_attempt object at 0x7fd2cb5e6ff0>, wait=<tenacity.wai...
  File "/usr/local/lib/python3.12/site-packages/tenacity/asyncio/__init__.py", line 153, in iter
    result = await action(retry_state)
                   │      └ <RetryCallState 140543146931216: attempt #3; slept for 3.0; last result: failed (ConnectionError HTTPSConnectionPool(host='ww...
                   └ <function wrap_to_async_func.<locals>.inner at 0x7fd2cc6e04a0>
  File "/usr/local/lib/python3.12/site-packages/tenacity/_utils.py", line 99, in inner
    return call(*args, **kwargs)
           │     │       └ {}
           │     └ (<RetryCallState 140543146931216: attempt #3; slept for 3.0; last result: failed (ConnectionError HTTPSConnectionPool(host='w...
           └ <function BaseRetrying._post_stop_check_actions.<locals>.exc_check at 0x7fd2cc6e02c0>
  File "/usr/local/lib/python3.12/site-packages/tenacity/__init__.py", line 419, in exc_check
    raise retry_exc from fut.exception()
          │              │   └ <function Future.exception at 0x7fd2ce6d45e0>
          │              └ <Future at 0x7fd2c05e54c0 state=finished raised ConnectionError>
          └ RetryError(<Future at 0x7fd2c05e54c0 state=finished raised ConnectionError>)

tenacity.RetryError: RetryError[<Future at 0x7fd2c05e54c0 state=finished raised ConnectionError>]
2025-10-21 15:40:11.844 | INFO     | app.agent.toolcall:act:160 - 🎯 Tool 'web_search' completed its mission! Result: Error: ⚠️ Tool 'web_search' encountered a problem: RetryError[<Future at 0x7fd2c05e54c0 state=finished raised ConnectionError>]
2025-10-21 15:40:11.844 | INFO     | app.agent.base:run:141 - Executing step 2/20
2025-10-21 15:40:13.721 | INFO     | app.llm:update_token_count:243 - Token usage: Input=1526, Completion=71, Cumulative Input=2871, Cumulative Completion=113, Total=1597, Cumulative Total=2984
2025-10-21 15:40:13.722 | INFO     | app.agent.toolcall:think:89 - ✨ Manus's thoughts: 看起来在尝试搜索小炒肉的做法时遇到了网络连接问题。我将再次尝试搜索，以确保我们能够获取到所需的信息。

2025-10-21 15:40:13.722 | INFO     | app.agent.toolcall:think:90 - 🛠️ Manus selected 1 tools to use
2025-10-21 15:40:13.722 | INFO     | app.agent.toolcall:think:94 - 🧰 Tools being prepared: ['web_search']
2025-10-21 15:40:13.722 | INFO     | app.agent.toolcall:think:97 - 🔧 Tool arguments: {"query": "小炒肉的做法", "num_results": 5, "lang": "zh", "country": "cn"}
2025-10-21 15:40:13.723 | INFO     | app.agent.toolcall:execute_tool:192 - 🔧 Activating tool: 'web_search'...
2025-10-21 15:40:13.723 | INFO     | app.tool.web_search:_try_all_engines:299 - 🔎 Attempting search with Google...
2025-10-21 15:40:31.764 | ERROR    | app.agent.toolcall:execute_tool:219 - ⚠️ Tool 'web_search' encountered a problem: RetryError[<Future at 0x7fd2c11f2d80 state=finished raised ConnectionError>]
Traceback (most recent call last):

  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 198, in _new_conn
    sock = connection.create_connection(
           │          └ <function create_connection at 0x7fd2cbdc5800>
           └ <module 'urllib3.util.connection' from '/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py'>
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    raise err
          └ None
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/connection.py", line 73, in create_connection
    sock.connect(sa)
    │    │       └ ('2001::1', 443, 0, 0)
    │    └ <method 'connect' of '_socket.socket' objects>
    └ <socket.socket [closed] fd=-1, family=10, type=1, proto=6>

OSError: [Errno 101] Network is unreachable


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               │    └ <function HTTPConnectionPool._make_request at 0x7fd2cbe64c20>
               └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x7fd2c11f3380>
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 488, in _make_request
    raise new_e
          └ NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x7fd2c11f31a0>: Failed to establish a new connection: [Err...
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 464, in _make_request
    self._validate_conn(conn)
    │    │              └ <urllib3.connection.HTTPSConnection object at 0x7fd2c11f31a0>
    │    └ <function HTTPSConnectionPool._validate_conn at 0x7fd2cbe651c0>
    └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x7fd2c11f3380>
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 1093, in _validate_conn
    conn.connect()
    │    └ <function HTTPSConnection.connect at 0x7fd2cbe5cae0>
    └ <urllib3.connection.HTTPSConnection object at 0x7fd2c11f31a0>
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 753, in connect
    self.sock = sock = self._new_conn()
    │    │             │    └ <function HTTPConnection._new_conn at 0x7fd2cbe5c0e0>
    │    │             └ <urllib3.connection.HTTPSConnection object at 0x7fd2c11f31a0>
    │    └ None
    └ <urllib3.connection.HTTPSConnection object at 0x7fd2c11f31a0>
  File "/usr/local/lib/python3.12/site-packages/urllib3/connection.py", line 213, in _new_conn
    raise NewConnectionError(
          └ <class 'urllib3.exceptions.NewConnectionError'>

urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPSConnection object at 0x7fd2c11f31a0>: Failed to establish a new connection: [Errno 101] Network is unreachable


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 644, in send
    resp = conn.urlopen(
           │    └ <function HTTPConnectionPool.urlopen at 0x7fd2cbe64e00>
           └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x7fd2c11f3380>
  File "/usr/local/lib/python3.12/site-packages/urllib3/connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              │       └ <function Retry.increment at 0x7fd2cbdc7ce0>
              └ Retry(total=0, connect=None, read=False, redirect=None, status=None)
  File "/usr/local/lib/python3.12/site-packages/urllib3/util/retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
          │             │      │    │            └ NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x7fd2c11f31a0>: Failed to establish a new connection: [Err...
          │             │      │    └ NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x7fd2c11f31a0>: Failed to establish a new connection: [Err...
          │             │      └ '/search?q=%E5%B0%8F%E7%82%92%E8%82%89%E7%9A%84%E5%81%9A%E6%B3%95&num=7&hl=en&start=0&safe=active'
          │             └ <urllib3.connectionpool.HTTPSConnectionPool object at 0x7fd2c11f3380>
          └ <class 'urllib3.exceptions.MaxRetryError'>

urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='www.google.com', port=443): Max retries exceeded with url: /search?q=%E5%B0%8F%E7%82%92%E8%82%89%E7%9A%84%E5%81%9A%E6%B3%95&num=7&hl=en&start=0&safe=active (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x7fd2c11f31a0>: Failed to establish a new connection: [Errno 101] Network is unreachable'))


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "/usr/local/lib/python3.12/site-packages/tenacity/asyncio/__init__.py", line 114, in __call__
    result = await fn(*args, **kwargs)
                   │   │       └ {}
                   │   └ (WebSearch(name='web_search', description='Search the web for real-time information about any topic.\n    This tool returns c...
                   └ <function WebSearch._perform_search_with_engine at 0x7fd2cb5da700>

  File "/home/transwarp/Documents/workspace/private/LLM_reasoning_framework/Agent/OpenManus/app/tool/web_search.py", line 398, in _perform_search_with_engine
    return await asyncio.get_event_loop().run_in_executor(
                 │       └ <built-in function get_event_loop>
                 └ <module 'asyncio' from '/usr/local/lib/python3.12/asyncio/__init__.py'>

  File "/usr/local/lib/python3.12/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
             │        │            └ None
             │        └ None
             └ None

  File "/home/transwarp/Documents/workspace/private/LLM_reasoning_framework/Agent/OpenManus/app/tool/web_search.py", line 401, in <lambda>
    engine.perform_search(
    │      └ <function GoogleSearchEngine.perform_search at 0x7fd2cb5d9a80>
    └ GoogleSearchEngine()

  File "/home/transwarp/Documents/workspace/private/LLM_reasoning_framework/Agent/OpenManus/app/tool/search/google_search.py", line 20, in perform_search
    for i, item in enumerate(raw_results):
                             └ <generator object search at 0x7fd2c1326bc0>

  File "/usr/local/lib/python3.12/site-packages/googlesearch/__init__.py", line 58, in search
    resp = _req(term, num_results - start,
           │    │     │             └ 0
           │    │     └ 5
           │    └ '小炒肉的做法'
           └ <function _req at 0x7fd2cb5d9c60>
  File "/usr/local/lib/python3.12/site-packages/googlesearch/__init__.py", line 10, in _req
    resp = get(
           └ <function get at 0x7fd2cb769580>
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           │              │           │         └ {'headers': {'User-Agent': 'Lynx/3.9.0 libwww-FM/2.15 SSL-MM/2.3 OpenSSL/2.3.0', 'Accept': '*/*'}, 'proxies': None, 'timeout'...
           │              │           └ {'q': '小炒肉的做法', 'num': 7, 'hl': 'en', 'start': 0, 'safe': 'active', 'gl': None}
           │              └ 'https://www.google.com/search'
           └ <function request at 0x7fd2cb7798a0>
  File "/usr/local/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           │       │              │           │      └ {'params': {'q': '小炒肉的做法', 'num': 7, 'hl': 'en', 'start': 0, 'safe': 'active', 'gl': None}, 'headers': {'User-Agent': 'Lynx/3...
           │       │              │           └ 'https://www.google.com/search'
           │       │              └ 'get'
           │       └ <function Session.request at 0x7fd2cb7b19e0>
           └ <requests.sessions.Session object at 0x7fd2c11f3e30>
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           │    │    │       └ {'timeout': 5, 'allow_redirects': True, 'proxies': OrderedDict(), 'stream': False, 'verify': True, 'cert': None}
           │    │    └ <PreparedRequest [GET]>
           │    └ <function Session.send at 0x7fd2cb7b1ee0>
           └ <requests.sessions.Session object at 0x7fd2c11f3e30>
  File "/usr/local/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        │       │    │          └ {'timeout': 5, 'proxies': OrderedDict(), 'stream': False, 'verify': True, 'cert': None}
        │       │    └ <PreparedRequest [GET]>
        │       └ <function HTTPAdapter.send at 0x7fd2cb7b1300>
        └ <requests.adapters.HTTPAdapter object at 0x7fd2c11f3350>
  File "/usr/local/lib/python3.12/site-packages/requests/adapters.py", line 677, in send
    raise ConnectionError(e, request=request)
          │                          └ <PreparedRequest [GET]>
          └ <class 'requests.exceptions.ConnectionError'>

requests.exceptions.ConnectionError: HTTPSConnectionPool(host='www.google.com', port=443): Max retries exceeded with url: /search?q=%E5%B0%8F%E7%82%92%E8%82%89%E7%9A%84%E5%81%9A%E6%B3%95&num=7&hl=en&start=0&safe=active (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x7fd2c11f31a0>: Failed to establish a new connection: [Errno 101] Network is unreachable'))


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "/home/transwarp/Documents/workspace/private/LLM_reasoning_framework/Agent/OpenManus/main.py", line 36, in <module>
    asyncio.run(main())
    │       │   └ <function main at 0x7fd2ce922340>
    │       └ <function run at 0x7fd2ce01e7a0>
    └ <module 'asyncio' from '/usr/local/lib/python3.12/asyncio/__init__.py'>

  File "/usr/local/lib/python3.12/asyncio/runners.py", line 195, in run
    return runner.run(main)
           │      │   └ <coroutine object main at 0x7fd2c127cb80>
           │      └ <function Runner.run at 0x7fd2cde6fc40>
           └ <asyncio.runners.Runner object at 0x7fd2ce718890>
  File "/usr/local/lib/python3.12/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<main() running at /home/transwarp/Documents/workspace/private/LLM_reasoning_framework/Agent...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x7fd2cde6d8a0>
           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x7fd2ce718890>
  File "/usr/local/lib/python3.12/asyncio/base_events.py", line 678, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x7fd2cde6d800>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.12/asyncio/base_events.py", line 645, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x7fd2cde6f600>
    └ <_UnixSelectorEventLoop running=True closed=False debug=False>
  File "/usr/local/lib/python3.12/asyncio/base_events.py", line 1999, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x7fd2cdfcd940>
    └ <Handle Task.task_wakeup(<Future finis...achable'))"))>)>
  File "/usr/local/lib/python3.12/asyncio/events.py", line 88, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finis...achable'))"))>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finis...achable'))"))>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finis...achable'))"))>)>

  File "/home/transwarp/Documents/workspace/private/LLM_reasoning_framework/Agent/OpenManus/main.py", line 26, in main
    await agent.run(prompt)
          │     │   └ '小炒肉的做法？'
          │     └ <function ToolCallAgent.run at 0x7fd2c9e4e0c0>
          └ Manus(name='Manus', description='A versatile agent that can solve various tasks using multiple tools including MCP-based tool...

  File "/home/transwarp/Documents/workspace/private/LLM_reasoning_framework/Agent/OpenManus/app/agent/toolcall.py", line 260, in run
    return await super().run(request)
                             └ '小炒肉的做法？'

  File "/home/transwarp/Documents/workspace/private/LLM_reasoning_framework/Agent/OpenManus/app/agent/base.py", line 142, in run
    step_result = await self.step()
                        │    └ <function ReActAgent.step at 0x7fd2cb697560>
                        └ Manus(name='Manus', description='A versatile agent that can solve various tasks using multiple tools including MCP-based tool...

  File "/home/transwarp/Documents/workspace/private/LLM_reasoning_framework/Agent/OpenManus/app/agent/react.py", line 41, in step
    return await self.act()
                 │    └ <function ToolCallAgent.act at 0x7fd2cb697d80>
                 └ Manus(name='Manus', description='A versatile agent that can solve various tasks using multiple tools including MCP-based tool...

  File "/home/transwarp/Documents/workspace/private/LLM_reasoning_framework/Agent/OpenManus/app/agent/toolcall.py", line 155, in act
    result = await self.execute_tool(command)
                   │    │            └ ChatCompletionMessageToolCall(id='chatcmpl-tool-cf79a5664f4444b38f64cd6029e83bdb', function=Function(arguments='{"query": "\\...
                   │    └ <function ToolCallAgent.execute_tool at 0x7fd2c9e4d8a0>
                   └ Manus(name='Manus', description='A versatile agent that can solve various tasks using multiple tools including MCP-based tool...

> File "/home/transwarp/Documents/workspace/private/LLM_reasoning_framework/Agent/OpenManus/app/agent/toolcall.py", line 193, in execute_tool
    result = await self.available_tools.execute(name=name, tool_input=args)
                   │    │               │            │                └ {'query': '小炒肉的做法', 'num_results': 5, 'lang': 'zh', 'country': 'cn'}
                   │    │               │            └ 'web_search'
                   │    │               └ <function ToolCollection.execute at 0x7fd2c9e4dbc0>
                   │    └ <app.tool.tool_collection.ToolCollection object at 0x7fd2c0ad34d0>
                   └ Manus(name='Manus', description='A versatile agent that can solve various tasks using multiple tools including MCP-based tool...

  File "/home/transwarp/Documents/workspace/private/LLM_reasoning_framework/Agent/OpenManus/app/tool/tool_collection.py", line 32, in execute
    result = await tool(**tool_input)
                   │      └ {'query': '小炒肉的做法', 'num_results': 5, 'lang': 'zh', 'country': 'cn'}
                   └ WebSearch(name='web_search', description='Search the web for real-time information about any topic.\n    This tool returns co...

  File "/home/transwarp/Documents/workspace/private/LLM_reasoning_framework/Agent/OpenManus/app/tool/base.py", line 118, in __call__
    return await self.execute(**kwargs)
                 │    │         └ {'query': '小炒肉的做法', 'num_results': 5, 'lang': 'zh', 'country': 'cn'}
                 │    └ <function WebSearch.execute at 0x7fd2cb5da200>
                 └ WebSearch(name='web_search', description='Search the web for real-time information about any topic.\n    This tool returns co...

  File "/home/transwarp/Documents/workspace/private/LLM_reasoning_framework/Agent/OpenManus/app/tool/web_search.py", line 253, in execute
    results = await self._try_all_engines(query, num_results, search_params)
                    │    │                │      │            └ {'lang': 'zh', 'country': 'cn'}
                    │    │                │      └ 5
                    │    │                └ '小炒肉的做法'
                    │    └ <function WebSearch._try_all_engines at 0x7fd2cb5da3e0>
                    └ WebSearch(name='web_search', description='Search the web for real-time information about any topic.\n    This tool returns co...

  File "/home/transwarp/Documents/workspace/private/LLM_reasoning_framework/Agent/OpenManus/app/tool/web_search.py", line 300, in _try_all_engines
    search_items = await self._perform_search_with_engine(
                         │    └ <function WebSearch._perform_search_with_engine at 0x7fd2cb5da980>
                         └ WebSearch(name='web_search', description='Search the web for real-time information about any topic.\n    This tool returns co...

  File "/usr/local/lib/python3.12/site-packages/tenacity/asyncio/__init__.py", line 189, in async_wrapped
    return await copy(fn, *args, **kwargs)
                 │    │    │       └ {}
                 │    │    └ (WebSearch(name='web_search', description='Search the web for real-time information about any topic.\n    This tool returns c...
                 │    └ <function WebSearch._perform_search_with_engine at 0x7fd2cb5da700>
                 └ <AsyncRetrying object at 0x7fd2c11f3aa0 (stop=<tenacity.stop.stop_after_attempt object at 0x7fd2cb5e6ff0>, wait=<tenacity.wai...
  File "/usr/local/lib/python3.12/site-packages/tenacity/asyncio/__init__.py", line 111, in __call__
    do = await self.iter(retry_state=retry_state)
               │    │                └ <RetryCallState 140543159907248: attempt #3; slept for 3.0; last result: failed (ConnectionError HTTPSConnectionPool(host='ww...
               │    └ <function AsyncRetrying.iter at 0x7fd2cbed2160>
               └ <AsyncRetrying object at 0x7fd2c11f3aa0 (stop=<tenacity.stop.stop_after_attempt object at 0x7fd2cb5e6ff0>, wait=<tenacity.wai...
  File "/usr/local/lib/python3.12/site-packages/tenacity/asyncio/__init__.py", line 153, in iter
    result = await action(retry_state)
                   │      └ <RetryCallState 140543159907248: attempt #3; slept for 3.0; last result: failed (ConnectionError HTTPSConnectionPool(host='ww...
                   └ <function wrap_to_async_func.<locals>.inner at 0x7fd2cc6e0540>
  File "/usr/local/lib/python3.12/site-packages/tenacity/_utils.py", line 99, in inner
    return call(*args, **kwargs)
           │     │       └ {}
           │     └ (<RetryCallState 140543159907248: attempt #3; slept for 3.0; last result: failed (ConnectionError HTTPSConnectionPool(host='w...
           └ <function BaseRetrying._post_stop_check_actions.<locals>.exc_check at 0x7fd2cc6e0220>
  File "/usr/local/lib/python3.12/site-packages/tenacity/__init__.py", line 419, in exc_check
    raise retry_exc from fut.exception()
          │              │   └ <function Future.exception at 0x7fd2ce6d45e0>
          │              └ <Future at 0x7fd2c11f2d80 state=finished raised ConnectionError>
          └ RetryError(<Future at 0x7fd2c11f2d80 state=finished raised ConnectionError>)

tenacity.RetryError: RetryError[<Future at 0x7fd2c11f2d80 state=finished raised ConnectionError>]
2025-10-21 15:40:31.818 | INFO     | app.agent.toolcall:act:160 - 🎯 Tool 'web_search' completed its mission! Result: Error: ⚠️ Tool 'web_search' encountered a problem: RetryError[<Future at 0x7fd2c11f2d80 state=finished raised ConnectionError>]
2025-10-21 15:40:31.819 | INFO     | app.agent.base:run:141 - Executing step 3/20
2025-10-21 15:40:40.783 | INFO     | app.llm:update_token_count:243 - Token usage: Input=1736, Completion=428, Cumulative Input=4607, Cumulative Completion=541, Total=2164, Cumulative Total=5148
2025-10-21 15:40:40.784 | INFO     | app.agent.toolcall:think:89 - ✨ Manus's thoughts: 似乎网络连接问题持续存在，导致无法通过网络搜索获取小炒肉的做法。不过，我可以根据已知的烹饪知识为您提供一个基本的小炒肉做法。如果您需要更详细的信息或特定的食谱，建议您稍后再试或使用其他方式查找。

### 小炒肉的基本做法

#### 材料
- 猪肉（五花肉或瘦肉）300克
- 青椒 2个
- 红椒 1个
- 蒜 3瓣
- 生姜 1小块
- 豆瓣酱 1大勺
- 生抽 1大勺
- 老抽 1小勺
- 盐 适量
- 糖 1小勺
- 料酒 1大勺
- 鸡精 适量
- 花椒 1小勺
- 食用油 适量

#### 做法
1. **准备材料**：猪肉切片，青椒、红椒切块，蒜切片，生姜切丝。
2. **腌制肉片**：将切好的肉片加入料酒、生抽、少许盐，拌匀后腌制10分钟。
3. **炒肉**：锅中加油，油热后加入花椒，炒出香味后捞出。再加入腌制好的肉片，快速翻炒至肉片变色。
4. **加调料**：加入豆瓣酱、蒜片、生姜丝，继续翻炒均匀。
5. **加青红椒**：加入青椒和红椒块，快速翻炒至蔬菜断生。
6. **调味**：加入生抽、老抽、糖、盐，快速翻炒均匀，最后加入鸡精调味。
7. **出锅**：炒至肉片和蔬菜熟透，出锅装盘即可。

希望这个做法对您有帮助。如果您有任何其他问题或需要进一步的指导，请随时告诉我。
2025-10-21 15:40:40.784 | INFO     | app.agent.toolcall:think:90 - 🛠️ Manus selected 0 tools to use
2025-10-21 15:40:40.786 | INFO     | app.tool.mcp:disconnect:194 - Disconnected from all MCP servers
2025-10-21 15:40:40.787 | INFO     | __main__:main:27 - Request processing completed.
